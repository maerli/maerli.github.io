<html>
<head>
<script src="https://unpkg.com/react@17/umd/react.development.js"> </script>
 <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  
</head>
<body>
<div id="root"></div>

<script>
const e = React.createElement;
function App(){
 const {log} = console;
questions = ["qual o valor da expressão "];


const primes = n =>{
	const list = [2];
	const t = Math.sqrt(n);
	
}

const mdc = (a,b)=>{
	if(b == 0) return a;
	return mdc(b, a%b);
}
const mmc = (a,b) => a*b / mdc(a,b);


const simp = (a,b)=> [a/mdc(a,b) , b/mdc(a,b)];

const unsimp = (a,b,n)=> {
	const [x,y] = simp(a,b);
	return [x*n, y*n, x, y];
}

const dizima = (n)=>{
	const x = ranInt(1,8);
	const t = 9*n;
	const [a,b] = simp(x,t);
	return [(a/b).toPrecision(3), [a,b]];
}

const second = _=> {
	  const a = ranInt( -1,3,0);
	  const x = ranInt(-5,5);
	  const y = ranInt(-5,5);
	  const b = simp(x + y,a)
	  const c = simp(x*y,a);
	  return [`${pos(a)}x^2  ${pos(b)}x ${pos(c)} = 0`, simp(x,a), simp(y,a)];
}

const pos = (n, t)=>{
	if(n==-1) return '-';
	if(n==0 || n== 1 ) return '';
	if(n> 0) return (t!=undefined? t:'+')+n;
	if(n<0) return n.toString();
	
}

const divisibilidade= (n)=>{
	let c = [];
	for(let i =0;i<n;i++){
		let a = ranInt(10,50);
		let b = ranInt(2,9);
		if(Math.random() < 0.5){
			b = ranInt(2,6);
			a =b*ranInt(1,5);
		}
		c.push([`${a} é divisível por ${b}`, a%b ==0]);
	}
	return c;
}

const somarFrac = ()=>{
	let a = ranInt(1,5);
	let b = ranInt(1,10);
	let c = ranInt(1,5);
	let d = ranInt(1,20);
	
	if(a===b) b++;
	if(c===d) c++;
	
	let e = simp(a*d+b*c, b*d);
	
	return [[a,b],[c,d], e]
}

const subFrac = ()=>{
	let a = ranInt(1,5);
	let b = ranInt(1,10);
	let c = ranInt(1,5);
	let d = ranInt(1,20);
	
	if(a===b) b++;
	if(c===d) c++;
	
	let e = simp(a*d-b*c, b*d);
	
	return [[a,b],[c,d], e]
}

const makeExpression = ()=>{
	const f = (a,b,c)=>{
		const i = Math.random() < 0.5 ? '-':'+';
		const t1 = `(${pos(a,'')}${i}${b})*${c}`;
		const t2 = `${pos(c,'')}*(${a.toString()}${pos(b)})`;
		
		return [t2, eval(t2)];
	}
	const a = ranInt(-5,5);
	const b = ranInt(1,10);
	const c = ranInt(2,5);
	return f(a,b,c);
};

const frac = (a,b) => [a,b];


const ranInt = (a,b, not)=>{
	const n = Math.floor(a+Math.abs((b-a))*Math.random(),10);
	if(not == undefined) return n;
	if(n !== not) return n;
	return ranInt(a,b,not);
}
const randList = (n, a,b, not)=>{
	const c = new Array(n).fill(0);
	return c.map(_=>ranInt(a,b,not));
}
const sinal = (n, f, ...args)=>{
	if(n > 0) return '+'+f(...args);
	if(n < 0) return '-'+f(...args);
	if(n==0) return f(...args);
}
function generate (opt){
	switch(opt){
		case 'exp':
		const a = ranInt(1,10);
		const b = ranInt(1,10);
		return frac(a,b) + "+"+ frac(a,b);
	}
}

const is_prime = (n)=>{
	const t = Math.floor(Math.sqrt(n));
	let isp = true;
	for(let i = 1; i<t && n%2 !=0;i++){
		if(i==1) continue;
		if(n%i ==0){
			isp = false;
			break;
		}
	}
	return isp;
	
	}

//q = questions[questions.length-1] + generate('exp');
/*
log("simplifique "+ unsimp(1,2,3) +"?");
log("dizima periódica "+(dizima(1)));
//log(second());

log(divisibilidade (5));
log(somarFrac(3));
log(subFrac());
log(makeExpression());
log("calcule mmc de ",5,20,mmc(5,20));
//log(pos(ranInt(-1,3)));
log(is_prime(9));
log(simp(0,1));
*/
const respostas = [];
const database = [
()=>{
	let [x,y] = randList(2, 1,5,0);
	if(y == 1) y = 2;
	if(x == y) y++;
	const [a,b,c,d] = unsimp(x,y, ranInt(2,5));
	respostas.push(" R: "+ c+"/"+d );
	return `simplifique a fração ${a}/${b}`;
},
()=>{
	const [a,b] = dizima(1);
	respostas.push(` R :${b[0]}/${b[1]}`);
	return `Qual fração produz a dízima periódica ${a}... ?`;
},
()=>{
	let x = new Array(ranInt(2,5,0)).fill(0);
	let z = [];
	x = x.map((a,b)=>{
		const [f,s,r] = somarFrac();
		const l = String.fromCharCode(97+b);
		z.push(e("div", null, `${l}) ${r[0]}/${r[1]}`));
		return e("div", null, `${l}) ${f[0]}/${f[1]} + ${s[0]}/${s[1]} = ?\n`);
	})
	respostas.push(z);
	
	return e("div", null, "Some as frações", x);
},
()=>{
	let x = new Array(ranInt(2,5,0)).fill(0);
	let z = [];
	x = x.map((a,b)=>{
		const [f,s,r] = subFrac();
		const l = String.fromCharCode(97+b);
		z.push(e("div", null, `${l}) ${r[0]}/${r[1]}`));
		return e("div", null, l+") ",`${f[0]}/${f[1]} - ${s[0]}/${s[1]} = ?\n`);
	})
	respostas.push(z);
	return e("div" ,null, "Subtraia as frações:", x);
},

()=>{
  const z = [];
	const m = divisibilidade (ranInt(3,6)).map((a,b)=>{
	const l = String.fromCharCode(97+b);
	z.push(e("div",null, `${l}) ${a[1]?"sim":"não"}`));
	return e("div", null, l+") ", a[0]);
});
respostas.push(z);
return m;
}
];
//log(randList(5,1,5,0));
return e("div", null, database.map((a,b)=>{
	return e("div",{style:{padding:2}},e("h4", null, "Questão ", b+1), a());
}), e("h1", null, "respostas"), respostas.map((a,b) => e("div", null,e("strong", null, "questão ",b+1), a)), e("button", {onClick: ()=> window.location.reload(), style:{marginBottom:10}}, "Nova atividade"));


}

ReactDOM.render(App(), document.querySelector("#root"))
</script>
</body>
</html>
